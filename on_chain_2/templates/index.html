<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Trading Strategy - Setup</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        body {
            padding-top: 20px;
            padding-bottom: 40px;
            background-color: #f8f9fa;
        }
        .container {
            max-width: 960px;
        }
        .header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e5e5e5;
        }
        .form-container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        .btn-primary {
            background-color: #0066cc;
        }
        .info-box {
            background-color: #e9f7ff;
            border-left: 4px solid #0066cc;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .warning-box {
            background-color: #fff9e6;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .strategy-title {
            color: #0066cc;
        }
        .feature-list {
            margin-top: 10px;
            margin-bottom: 20px;
        }
        .feature-list li {
            margin-bottom: 8px;
        }
        .nav-pills .nav-link.active {
            background-color: #0066cc;
        }
        .tab-content {
            padding-top: 20px;
        }
        .tech-analysis {
            color: #0066cc;
        }
        .onchain-analysis {
            color: #6610f2;
        }
        .feature-icon {
            margin-right: 8px;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="strategy-title">
                <i class="bi bi-graph-up"></i> 
                Bitcoin Trading Strategy Analysis
            </h1>
            <p class="lead">Configure and run the Integrated Bitcoin Strategy with <span class="tech-analysis">Technical</span> & <span class="onchain-analysis">On-Chain</span> Analytics</p>
        </div>
        
        <div class="row">
            <div class="col-md-8">
                <div class="form-container">
                    <div class="info-box mb-4">
                        <h5><i class="bi bi-gear-fill feature-icon"></i> What This Tool Does</h5>
                        <p>This application runs a sophisticated Bitcoin trading strategy that combines two powerful approaches:</p>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card mb-2">
                                    <div class="card-header bg-primary text-white">
                                        <i class="bi bi-graph-up-arrow"></i> Technical Analysis
                                    </div>
                                    <div class="card-body">
                                        Price patterns, indicators (RSI, MACD, BB), and moving averages to identify market trends and reversals
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-2">
                                    <div class="card-header bg-purple text-white" style="background-color: #6610f2;">
                                        <i class="bi bi-bar-chart"></i> On-Chain Analytics
                                    </div>
                                    <div class="card-body">
                                        Blockchain data analysis to understand investor behavior, network health, and market cycles
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="mt-2">By combining these approaches with advanced machine learning, this strategy aims to generate higher-quality trading signals than either approach could produce independently.</p>
                    </div>
                    
                    <form action="/run_strategy" method="post" enctype="multipart/form-data">
                        <h3 class="mb-3"><i class="bi bi-sliders feature-icon"></i> Strategy Parameters</h3>
                        
                        <div class="form-group">
                            <label for="ticker">Ticker Symbol:</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-currency-bitcoin"></i></span>
                                <input type="text" class="form-control" id="ticker" name="ticker" value="{{ default_ticker }}" required>
                            </div>
                            <small class="form-text text-muted">Standard format (e.g., BTC-USD)</small>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="start_date">Start Date:</label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="bi bi-calendar-event"></i></span>
                                        <input type="date" class="form-control" id="start_date" name="start_date" value="{{ default_start_date }}" required>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="end_date">End Date:</label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="bi bi-calendar-event"></i></span>
                                        <input type="date" class="form-control" id="end_date" name="end_date" value="{{ default_end_date }}" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="initial_cash">Initial Capital (USD):</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-cash"></i></span>
                                <input type="number" class="form-control" id="initial_cash" name="initial_cash" value="{{ default_initial_cash }}" min="1000" step="1000" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="data_file">Upload On-Chain Data (Optional):</label>
                            <input type="file" class="form-control" id="data_file" name="data_file">
                            <small class="form-text text-muted">Upload a ZIP file containing on-chain metrics CSV files (optional)</small>
                        </div>
                        
                        <div class="warning-box">
                            <h6><i class="bi bi-exclamation-triangle-fill"></i> Sample Data Notice</h6>
                            <p class="mb-0">If you don't provide your own data, the strategy will use synthetic data for demonstration purposes. This is useful for testing but won't reflect actual market conditions.</p>
                        </div>
                        
                        <div class="form-group">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="use_sample_data" name="use_sample_data" checked>
                                <label class="form-check-label" for="use_sample_data">Use sample data if no data source provided</label>
                            </div>
                        </div>
                        
                        <h5 class="mt-4 mb-3"><i class="bi bi-toggles feature-icon"></i> Analysis Options</h5>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-check form-switch">
                                    <input type="checkbox" class="form-check-input" id="use_enhanced_technical" name="use_enhanced_technical" checked>
                                    <label class="form-check-label" for="use_enhanced_technical">
                                        <i class="bi bi-graph-up-arrow text-primary"></i> Enhanced Technical Analysis
                                    </label>
                                    <small class="form-text d-block text-muted">RSI, MACD, Bollinger Bands, Moving Averages</small>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="form-check form-switch">
                                    <input type="checkbox" class="form-check-input" id="use_enhanced_onchain" name="use_enhanced_onchain" checked>
                                    <label class="form-check-label" for="use_enhanced_onchain">
                                        <i class="bi bi-bar-chart-fill text-purple"></i> Enhanced On-Chain Analysis
                                    </label>
                                    <small class="form-text d-block text-muted">NVT, MVRV, HODL Waves, Whale Activity</small>
                                </div>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary btn-lg w-100 mt-4">
                            <i class="bi bi-play-fill"></i> Run Strategy Analysis
                        </button>
                    </form>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="form-container">
                    <h3><i class="bi bi-list-check feature-icon"></i> Strategy Features</h3>
                    
                    <ul class="nav nav-pills mb-3" id="features-tab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="technical-tab" data-bs-toggle="pill" data-bs-target="#technical" type="button" role="tab" aria-controls="technical" aria-selected="true">
                                <i class="bi bi-graph-up"></i> Technical
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="onchain-tab" data-bs-toggle="pill" data-bs-target="#onchain" type="button" role="tab" aria-controls="onchain" aria-selected="false">
                                <i class="bi bi-bar-chart"></i> On-Chain
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="ml-tab" data-bs-toggle="pill" data-bs-target="#ml" type="button" role="tab" aria-controls="ml" aria-selected="false">
                                <i class="bi bi-cpu"></i> ML Models
                            </button>
                        </li>
                    </ul>
                    
                    <div class="tab-content" id="features-tabContent">
                        <div class="tab-pane fade show active" id="technical" role="tabpanel" aria-labelledby="technical-tab">
                            <h5 class="text-primary"><i class="bi bi-graph-up-arrow"></i> Technical Analysis</h5>
                            <ul class="feature-list">
                                <li><strong>Price Action Analysis</strong> with multiple timeframes</li>
                                <li><strong>Moving Averages</strong> (7, 14, 30, 50, 200-day SMA)</li>
                                <li><strong>RSI</strong> with overbought/oversold signals</li>
                                <li><strong>MACD</strong> for trend & momentum analysis</li>
                                <li><strong>Bollinger Bands</strong> for volatility analysis</li>
                                <li><strong>Golden/Death Cross Detection</strong> for major trend changes</li>
                                <li><strong>Volume Analysis</strong> with price-volume correlations</li>
                            </ul>
                        </div>
                        
                        <div class="tab-pane fade" id="onchain" role="tabpanel" aria-labelledby="onchain-tab">
                            <h5 class="text-purple"><i class="bi bi-bar-chart-steps"></i> On-Chain Analysis</h5>
                            <ul class="feature-list">
                                <li><strong>NVT Ratio</strong> - Network Value to Transactions ratio</li>
                                <li><strong>MVRV Ratio</strong> - Market Value to Realized Value</li>
                                <li><strong>HODL Waves</strong> - Long vs short-term holder behavior</li>
                                <li><strong>Whale Activity</strong> - Large holder concentration</li>
                                <li><strong>Mining Metrics</strong> - Difficulty, hash rate analysis</li>
                                <li><strong>Market Cycles</strong> - On-chain cycle identification</li>
                                <li><strong>Supply Distribution</strong> - Age and size-based analysis</li>
                            </ul>
                        </div>
                        
                        <div class="tab-pane fade" id="ml" role="tabpanel" aria-labelledby="ml-tab">
                            <h5 class="text-success"><i class="bi bi-cpu-fill"></i> Advanced ML Models</h5>
                            <ul class="feature-list">
                                <li><strong>Hidden Markov Models</strong> for market regime detection</li>
                                <li><strong>CNN</strong> models for pattern recognition</li>
                                <li><strong>Random Forests</strong> for feature importance</li>
                                <li><strong>XGBoost</strong> for prediction modeling</li>
                                <li><strong>Ensemble Models</strong> combining multiple signals</li>
                                <li><strong>Adaptive Position Sizing</strong> based on risk</li>
                                <li><strong>Regime-specific Risk Management</strong></li>
                            </ul>
                        </div>
                    </div>
                    
                    <h3 class="mt-4"><i class="bi bi-file-earmark-bar-graph feature-icon"></i> Output Includes</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="feature-list">
                                <li><i class="bi bi-check-circle-fill text-success feature-icon"></i> Performance metrics</li>
                                <li><i class="bi bi-check-circle-fill text-success feature-icon"></i> Trading signals</li>
                                <li><i class="bi bi-check-circle-fill text-success feature-icon"></i> Feature importance</li>
                                <li><i class="bi bi-check-circle-fill text-success feature-icon"></i> Risk analysis</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul class="feature-list">
                                <li><i class="bi bi-check-circle-fill text-success feature-icon"></i> Market regimes</li>
                                <li><i class="bi bi-check-circle-fill text-success feature-icon"></i> Technical indicators</li>
                                <li><i class="bi bi-check-circle-fill text-success feature-icon"></i> On-chain metrics</li>
                                <li><i class="bi bi-check-circle-fill text-success feature-icon"></i> Visual insights</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="info-box mt-3">
                        <h5><i class="bi bi-clock-history feature-icon"></i> Processing Time</h5>
                        <p class="mb-0">Depending on parameters, analysis may take 1-5 minutes to complete. Please be patient while the models train.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>